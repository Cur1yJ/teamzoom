ClientSideValidations.formBuilders["SimpleForm::FormBuilder"]={add:function(e,t,n){var r,i;return t.wrapper_tag=".control-group",t.error_tag="span",t.error_class="help-inline",t.wrapper_error_class="error",e.data("valid")!==!1?(i=e.closest(t.wrapper_tag),i.addClass(t.wrapper_error_class),r=$("<"+t.error_tag+"/>",{"class":t.error_class,text:n}),i.find(".controls").append(r)):e.parent().find(""+t.error_tag+"."+t.error_class).text(n)},remove:function(e,t){var n,r;return t.wrapper_tag=".control-group",t.error_tag="span",t.error_class="help-inline",t.wrapper_error_class="error",r=e.closest(""+t.wrapper_tag+"."+t.wrapper_error_class),r.removeClass(t.wrapper_error_class),n=r.find(""+t.error_tag+"."+t.error_class),n.remove()}},function(){Cufon.replace("h2",{color:"green",letterSpacing:"-1px",fontSize:"18px"}),Cufon.replace("label.label_input",{color:"#000000"})}.call(this),function(){window.homeObject={setup:function(){this.homeSection=$(".home"),this.video_pop()},video_pop:function(){$("#video").on("show",function(){$("#video div.modal-body").html('<iframe src="http://www.youtube.com/v/Exd7nqV5-cE&amp;rel=0&amp;autohide=1&amp;showinfo=0&amp;autoplay=1" width="500" height="281" frameborder="0" allowfullscreen=""></iframe>')})}}}.call(this),function(){$(function(){homeObject.setup(),teamObject.setup(),transactionObject.setup(),scheduleObject.setup()})}.call(this),function(){}.call(this),function(){var e,t;e=void 0,t=void 0,e=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,t=/^\d*$/,window.CARD_TYPE_VALIDATORS=[{value:"USA_express",reg:/^3[47][0-9]{13}$/},{value:"discover",reg:/^6(?:011|5[0-9]{2})[0-9]{12}$/},{value:"visa",reg:/^4[0-9]{12}(?:[0-9]{3})?$/},{value:"jcb",reg:/^(?:2131|1800|35\d{3})\d{11}$/},{value:"dinners_club",reg:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/},{value:"master_card",reg:/^5[1-5][0-9]{14}$/}],$("#choose_popup").modal({backdrop:"static"}),$(".btn_ok").bind("click",function(){return location.reload()}),$(".icon-credit-card").bind("click",function(){var e,t;return e=void 0,t=void 0,$(".icon-credit-card").removeClass("selected"),$(this).addClass("selected"),e=$(this).parent().attr("for"),t=$("#"+e).attr("checked","checked")}),$("#btn_payment").bind("click",function(){return $("#term_of_use").attr("checked")==="checked"||$("#term_of_use").val()==="true"?($("#btn_payment").attr("disabled","disabled"),$("#warning-term").html(""),$("#payment_form").submit()):($("#warning-term").html("Please accept the Team of use."),!1)}),$("#agree_payment").bind("click",function(){return $("#payment_options").modal("hide"),$("#options-form").submit()}),$("#cvv-popup").bind("hover",function(){return $("#cvv-popup").popover({title:null,html:"true",content:'<img src="/assets/cvv.png" alt="Cvv">',trigger:"hover"})}),$("#options").bind("click",function(){return $("#options input[type='radio']:checked").val()==="false"?($("#introduce-monthly").show(),$("#introduce-individual").hide()):($("#introduce-individual").show(),$("#introduce-monthly").hide())}),$("#choose_option").click(function(){var e;e=void 0,e=$("#choose input[type=radio]:checked").val();if(e==="monthly")return $("#choose_popup").modal("hide");if(e==="individual")return window.location.href="/teams/find_team"}),$("#order_card_number").change(function(){var e,t,n,r,i;e=void 0,t=void 0,n=void 0,r=void 0,e=$("#payment_card").find("input:checked");if(e.length===0)return $("#type_error").html("Please choose card type!");n=0,r=CARD_TYPE_VALIDATORS.length,i=[];while(n<r)t=CARD_TYPE_VALIDATORS[n],t.value===e&&(t.reg.test($(this).val())?($("#card_error").html(""),$("#type_error").html("")):$("#card_error").html("Your card number does not match this card_type!")),i.push(n++);return i}),$("#payment_card").find("input").bind("click",function(){var e,t,n,r,i;e=void 0,t=void 0,n=void 0,r=void 0,e=$("#order_card_number").val(),console.log($(this).val()),console.log(e),n=0,r=CARD_TYPE_VALIDATORS.length,i=[];while(n<r)t=CARD_TYPE_VALIDATORS[n],t.value===$(this).val()&&(e!==""&&!t.reg.test(e)?$("#card_error").html("Your card number does not match this card_type!"):$("#card_error").html("")),i.push(n++);return i}),$("#order_card_verification").blur(function(){var e;return e=void 0,e=$("#order_card_verification").val(),t.test(e)?$("#cvv_error").html(""):$("#cvv_error").html("Your card verification value is invalid!")}),$("#request_payment").click(function(){return $("#check_login").modal("hide")}),$("#post_select_team_id").change(function(){return $.ajax({type:"GET",url:"/show_sport",data:{sport:$(this).attr("value"),team_id:$("#current_team_id").val()},success:function(e){return $(".ajax-loading").addClass("hidden"),$("#schedule-data-table").html(e)},error:function(e,t){return $(".ajax-loading").addClass("hidden")}})}),$("#close_payment").click(function(){return $("#type_error").html(""),$("#card_error").html(""),$("#cvv_error").html(""),$("#firstname_error").html(""),$("#lastname_error").html(""),$("#address_error").html(""),$("#city_error").html(""),$("#zip_code_error").html("")})}.call(this),function(){window.scheduleObject={setup:function(){return this.picker(),this.loadSelect(),this.pickerSchedule(),this.checkValidate(),this.loadSport(),this.loadVenues()},picker:function(){return $("#from_date").datepicker({format:"dd-mm-yyyy"}),$("#end_date").datepicker({format:"dd-mm-yyyy"})},checkValidate:function(){return $("#save_schedule").live("click",function(e){var t,n,r,i;r=parseInt($("#schedule_start_time_4i").val(),10),console.log(r),t=parseInt($("#schedule_end_time_4i").val(),10),console.log(t),console.log(r>t);if(r>t)return $("#start_time_error").html("Start time must be less than end time"),!1;if(r===t){i=parseInt($("#schedule_start_time_5i").val(),10),n=parseInt($("#schedule_end_time_5i").val(),10);if(i>=n)return $("#start_time_error").html("Start time must be less than end time"),!1;$("#start_time_error").html("")}else $("#start_time_error").html("");$("#edit_team").bind("ajax:before",function(e,t){return $("#save_schedule").attr("disabled","disabled")});if($("#schedule_sport_id").val()==="")return $("#sport_error").html("can't be blank"),!1;$("#team_error").html("");if($("#schedule_subteam_home_team_id").val()===""||$("#schedule_subteam_home_team_id").val()==="0")return $("#team_error").html("can't be blank"),!1;$("#team_error").html("");if($("#schedule_subteam_opponent_team_id").val()===""||$("#schedule_subteam_opponent_team_id").val()==="0")return $("#team_opponent_error").html("can't be blank"),!1;$("#team_opponent_error").html("");if($("#schedule_subteam_opponent_team_id").val()===$("#schedule_subteam_home_team_id").val())return $("#team_opponent_error").html("can't choose the same home and away"),!1;$("#team_opponent_error").html("")})},pickerSchedule:function(){return $("#schedule_event_date").live("focus",function(e){return $("#schedule_event_date").datepicker({format:"dd-mm-yyyy"})})},loadSelect:function(){return $("#schedule_subteam_home_team_id").live("change",function(e){var t;return t="<option value=0>Select one</option>",$("#schedule_subteam_id option").remove(),$("#schedule_subteam_home_team_id").val()===""?$("#schedule_subteam_id").append(t):$.ajax({type:"GET",url:"/load_subteams",data:{team:$(this).attr("value"),sport_id:$("#schedule_sport_id").attr("value")},success:function(e){var n;n=0;while(n<e.length)t+="<option value="+e[n].id+">"+e[n].name+"</option>",n++;$("#schedule_subteam_id").append(t)},error:function(e,t){}})}),$("#schedule_subteam_opponent_team_id").live("change",function(e){var t;return t="<option value=0>Select one</option>",$("#schedule_opponent_id option").remove(),$("#schedule_subteam_opponent_team_id").val()===""?$("#schedule_opponent_id").append(t):$.ajax({type:"GET",url:"/load_subteams",data:{team:$(this).attr("value"),sport_id:$("#schedule_sport_id").attr("value")},success:function(e){var n;n=0;while(n<e.length)t+="<option value="+e[n].id+">"+e[n].name+"</option>",n++;$("#schedule_opponent_id").append(t)},error:function(e,t){}})})},loadSport:function(){return $("#schedule_sport_id").live("change",function(e){var t,n;return t="<option value=0>Select one</option>",n=t,$("#schedule_subteam_id option").remove(),$("#schedule_opponent_id option").remove(),$("#schedule_subteam_opponent_team_id option").remove(),$("#schedule_subteam_home_team_id option").remove(),$("#schedule_sport_id").val()===""?($("#schedule_subteam_id").append(t),$("#schedule_opponent_id").append(t),$("#schedule_subteam_home_team_id").append(n),$("#schedule_subteam_opponent_team_id").append(n)):$.ajax({type:"GET",url:"/load_teams_for_sport",data:{sport_id:$(this).attr("value")},success:function(e){var r,i,s,o;s=e[0],o=e[1],r=0;while(r<s.length)t+="<option value="+s[r].id+">"+s[r].name+"</option>",r++;$("#schedule_subteam_id").append(t),$("#schedule_opponent_id").append(t),i=0;while(i<o.length)n+="<option value="+o[i].id+">"+o[i].name+"</option>",i++;$("#schedule_subteam_home_team_id").append(n),$("#schedule_subteam_opponent_team_id").append(n)},error:function(e,t){}})})},loadVenues:function(){$("#schedule_subteam_home_team_id").live("change",function(){var e;return e="<option value=0>Select one</option>",$("#schedule_venue_id option").remove(),$(this).val()===""?$("#schedule_venue_id").append(e):$.ajax({type:"GET",url:"/load_venues",data:{team_id:$(this).val()},success:function(t){var n;n=0;while(n<t.length)e+="<option value="+t[n].id+">"+t[n].venue+"</option>",n++;$("#schedule_venue_id").append(e)},error:function(e,t){}})})}}}.call(this),function(){$("#example1").popover("hide"),$("#example2").popover("hide"),$("#example3").popover("hide"),$("#example4").popover("hide"),$("#example5").popover("hide"),$("#make_error").modal({backdrop:!0})}.call(this),function(){window.teamObject={setup:function(){return this.homeSection=$(".home"),this.teamSection=$(".find-team"),this.resetDefault(),this.clickOnGoButton(),this.clickSates(),this.clickConference(),this.clickSchool(),this.clickClose(),this.clickOnScheduleLoadingButton(),this.clickOnSaveRequest(),this.clickOnStateRegisterButton(),this.clickOnSchoolRegisterButton(),this.clickOnNotListedCheckbox(),this.clickCheck(),this.validateInput(),this.limitInput(),this.validateExpiredDateCard()},resetDefault:function(){return $("#payment_card").find("input:checked").removeAttr("checked")},clickOnSaveRequest:function(){return this.teamSection.find("#button_request").click(function(e){$(".find-team .error.length").addClass("none");if(!!$(".validator").val())return $.ajax({type:"POST",url:"/requests.json",dataType:"json",data:{request:{state:$("#state").attr("value"),team:$("#team").attr("value")}},success:function(e){$("#team").val(""),$("#myModal1").modal("hide")},error:function(e,t){$("#team").val("")}});$(".find-team .error.length").removeClass("none"),$(".find-team .error.length").html("School is required")})},validateInput:function(){$(".valid_number").filter_input({regex:"[0-9\r\n]",live:!0})},validateExpiredDateCard:function(){$("#order_card_expires_on_2i").live("change",function(){var e,t,n,r;return console.log(43747),t=$("#order_card_expires_on_2i").val(),r=$("#order_card_expires_on_1i").val(),e=new Date(r,t),n=new Date,e<n?$("#expired_error").html("The expiration date is invalid."):$("#expired_error").html("")})},limitInput:function(){$("#order_zip_code, #order_card_verification").live("keypress",function(e){var t;t=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if($(this).attr("id")==="order_zip_code"){if($(this).val().length>4&&t!==8&&t!==9&&t!==35&&t!==36&&t!==37&&t!==39&&t!==46)return e.preventDefault()}else if($(this).attr("id")==="order_card_verification"&&$(this).val().length>3&&t!==8&&t!==9&&t!==35&&t!==36&&t!==37&&t!==39&&t!==46)return e.preventDefault()})},clickClose:function(){return $(".find-team .close").click(function(e){return $(".find-team .error.length").addClass("none"),$("#team").val("")})},checkSelectedValues:function(){return this.teamSection.find("select#state_id").val()!==""&&this.teamSection.find("select#conference_id").val()!==""&&this.teamSection.find("select#school_id").val()!==""?!0:(this.showErrors(),!1)},showErrors:function(){this.teamSection.find("select#state_id").val()===""&&(this.teamSection.find(".error.state").removeClass("none"),this.teamSection.find(".error.state").html("Please choose state")),this.teamSection.find("select#conference_id").val()===""&&(this.teamSection.find(".error.conference").removeClass("none"),this.teamSection.find(".error.conference").html("Please choose conference"));if(this.teamSection.find("select#school_id").val()==="")return this.teamSection.find(".error.school").removeClass("none"),this.teamSection.find(".error.school").html("Please choose school")},clickSchool:function(){return $("#school_id").live("change",function(e){return $(".find-team .error.school").addClass("none")})},clickOnGoButton:function(){var e=this;return $("#show_list").click(function(t){var n;return e.checkSelectedValues()===!0?($(".find-team .list-teams .loading").removeClass("none"),$(".find-team .list-teams .teams").hide(),n=$(".find-team form"),$.ajax({type:"GET",url:n.attr("action"),data:n.serialize(),success:function(e){return $(".find-team .list-teams .loading").addClass("none"),$(".find-team .list-teams .teams").html(e),$(".find-team .list-teams .teams").show()},error:function(e){return $(".find-team .list-teams .loading").addClass("none"),$(".find-team .list-teams .teams").show()}})):!1})},clickConference:function(){return $("#conference_id").live("change",function(e){return $(".find-team .error.conference").addClass("none"),$.ajax({type:"GET",url:"schools/search",data:{conference_id:$("#conference_id").attr("value")},success:function(e){return $("#school").html(e),$(".find-team .list-teams").load()},error:function(e){return $("#school").html(e),$(".find-team .list-teams").load()}})})},clickSates:function(){return $("#state_id").change(function(e){return $(".find-team .error.state").addClass("none"),$.ajax({type:"GET",url:"conferences/search",data:{state_id:$("#state_id").attr("value")},success:function(e){return $("#conference").html(e),$("#school").show(),$(".find-team .list-teams").load()},error:function(e){return $("#conference").html(e),$("#school").html(e)}})})},clickOnScheduleLoadingButton:function(){return $("#post_select_team_id").change(function(){return $(".ajax-loading").removeClass("hidden")}),$("#previous_date, #select_date_of_week, #next_date").click(function(){return $(".ajax-loading").removeClass("hidden")})},clickOnStateRegisterButton:function(){var e,t,n,r,i,s,o;return o=$("#state_id_regist").html(),e=$("#conference_id_regist").html(),s=$("#school_id_regist").html(),$("#new_user #conference_id_regist").empty(),$("#new_user #school_id_regist").empty(),n=$("#edit_user #conference_id_regist").val(),t=$("#edit_user #conference_id_regist :selected").text(),i=$("#edit_user #school_id_regist").val(),r=$("#edit_user #school_id_regist :selected").text(),$("#not_school_list").is(":checked")?($("#edit_user #conference_id_regist").html("<option val = ''>Choose Conference</option>"),$("#edit_user #school_id_regist").html("<option val = ''>Choose School</option>")):($("#edit_user #conference_id_regist").html("<option val = '"+n+"'>"+t+"</option>"),$("#edit_user #school_id_regist").html("<option val = '"+i+"'>"+r+"</option>")),$("#state_id_regist").live("change",function(){var t,n;return n=$("#state_id_regist :selected").text(),$("#user_team_id").removeAttr("value"),t=$(e).filter("optgroup[label='"+n+"']").html(),t?($("#conference_id_regist").html("<option val = ''>Choose Conference</option>"+t),$("#conference_id_regist").live("change",function(){var e,t;return $("#user_team_id").removeAttr("value"),t=$("#conference_id_regist :selected").text(),e=$(s).filter("optgroup[label='"+t+"']").html(),e?$("#school_id_regist").html("<option val = ''>Choose School</option>"+e):$("#school_id_regist").empty()})):($("#conference_id_regist").empty(),$("#school_id_regist").empty())})},clickOnSchoolRegisterButton:function(){return $("#school_id_regist").live("change",function(){var e;e=$(this).val(),e&&e!=="Choose School"?$.ajax({type:"GET",url:"/teams/get_team_by_scholl",data:{school_id:e},success:function(e){return $("#reference_error").addClass("hidden"),$("#not_school_list").attr("checked",!1),$("#not_school_list").attr("disabled",!0),$("#team-regist-box").html(e)},error:function(e){return $("#not_school_list").attr("disabled",!1),$("#team-regist-box").html(""),alert("Loading error")}}):($("#not_school_list").attr("disabled",!1),$("#team-regist-box").html('<input id="user_team_id" type="hidden" name="user[team_id]">'))})},clickOnNotListedCheckbox:function(){return $("#not_school_list").live("click",function(){var e;return e=$("#not_school_list"),e.is(":checked")?$("#reference_error").addClass("hidden"):$("#reference_error").removeClass("hidden")})},clickCheck:function(){$("#teamsport_sport_id").live("change",function(){$.post("/find_or_initial_teamsport",{teamsport_id:$(this).val(),team_id:$("#teamsport_team_id").val()})})}},jQuery(function(){var e,t;return $("#school_conference_id").parent().hide(),$("#school_id").parent().hide(),e=$("#school_conference_id").html(),t=$("#school_id").html(),$("#state_id").change(function(){var t,n,r;return r=$("#state_id :selected").text(),n=r.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),t=$(e).filter("optgroup[label="+n+"]").html(),t?$("#school_conference_id").html(t).parent().show():($("#school_conference_id").empty().parent().hide(),$("#school_id").empty().parent().hide())}),$("#school_conference_id").change(function(){var e,n,r;return e=$("#school_conference_id :selected").text(),n=e.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),r=$(t).filter("optgroup[label="+n+"]").html(),r?$("#school_id").html(r).parent().show():$("#school_id").empty().parent().hide()})})}.call(this),function(){}.call(this),function(e,t){e.ajaxPrefilter(function(e,t,n){if(e.iframe)return"iframe"}),e.ajaxTransport("iframe",function(t,n,r){function h(){e(f).each(function(){this.remove()}),e(l).each(function(){this.disabled=!1}),i.attr("action",o||"").attr("target",u||"").attr("enctype",a||""),s.attr("src","javascript:false;").remove()}var i=null,s=null,o=null,u=null,a=null,f=[],l=[],c=e(t.files).filter(":file:enabled");t.dataTypes.shift();if(c.length)return c.each(function(){i!==null&&this.form!==i&&jQuery.error("All file fields must belong to the same form"),i=this.form}),i=e(i),o=i.attr("action"),u=i.attr("target"),a=i.attr("enctype"),i.find(":input:not(:submit)").each(function(){!this.disabled&&(this.type!="file"||c.index(this)<0)&&(this.disabled=!0,l.push(this))}),typeof t.data=="string"&&t.data.length>0&&jQuery.error("data must not be serialized"),e.each(t.data||{},function(t,n){e.isPlainObject(n)&&(t=n.name,n=n.value),f.push(e("<input type='hidden'>").attr("name",t).attr("value",n).appendTo(i))}),f.push(e("<input type='hidden' name='X-Requested-With'>").attr("value","IFrame").appendTo(i)),accepts=t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+(t.dataTypes[0]!=="*"?", */*; q=0.01":""):t.accepts["*"],f.push(e("<input type='hidden' name='X-Http-Accept'>").attr("value",accepts).appendTo(i)),{send:function(n,r){s=e("<iframe src='javascript:false;' name='iframe-"+e.now()+"' style='display:none'></iframe>"),s.bind("load",function(){s.unbind("load").bind("load",function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=e.documentElement?e.documentElement:e.body,n=t.getElementsByTagName("textarea")[0],i=n?n.getAttribute("data-type"):null,s=n?parseInt(n.getAttribute("response-code")):200,o="OK",u={text:i?n.value:t?t.innerHTML:null},a="Content-Type: "+(i||"text/html");r(s,o,u,a),setTimeout(h,50)}),i.attr("action",t.url).attr("target",s.attr("name")).attr("enctype","multipart/form-data").get(0).submit()}),s.insertAfter(i)},abort:function(){s!==null&&(s.unbind("load").attr("src","javascript:false;"),h())}}})}(jQuery),function(t){var n;t.remotipart=n={setup:function(e){e.one("ajax:beforeSend.remotipart",function(r,i,s){return delete s.beforeSend,s.iframe=!0,s.files=t(t.rails.fileInputSelector,e),s.data=e.serializeArray(),s.files.each(function(e,t){for(var n=s.data.length-1;n>=0;n--)s.data[n].name==t.name&&s.data.splice(n,1)}),s.processData=!1,s.dataType===undefined&&(s.dataType="script *"),s.data.push({name:"remotipart_submitted",value:!0}),t.rails.fire(e,"ajax:remotipartSubmit",[i,s])&&t.rails.ajax(s),n.teardown(e),!1}).data("remotipartSubmitted",!0)},teardown:function(e){e.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},t(document).on("ajax:aborted:file","form",function(){var r=t(this);return n.setup(r),!t.support.submitBubbles&&t().jquery<"1.7"&&t.rails.callFormSubmitBindings(r)===!1?t.rails.stopEverything(e):(t.rails.handleRemote(r),!1)})}(jQuery),function(){window.homeObject={setup:function(){}},$(".admin_search #update_team").live("keyup",function(e){var t;return t=$(this).val()+" "+$(".admin_search #update_mascot").val(),$(".admin_search .team_name label").html(t),$(".admin_search #team_name").val(t)}),$(".admin_search #update_mascot").live("keyup",function(e){var t;return t=$(".admin_search #update_team").val()+" "+$(this).val(),$(".admin_search .team_name label").html(t),$(".admin_search #team_name ").val(t)}),$(".admin_search #admin_new_team #team_school_attributes_name").live("keyup",function(e){var t;return $(".admin_search #admin_new_team #team_mascot").val()===""?(t=$(this).val(),$(".admin_search #admin_new_team #showteamname").html(t),$(".admin_search #admin_new_team .name_hidden").val(t)):(t=$(this).val()+" "+$(".admin_search #team_mascot").val(),$(".admin_search #admin_new_team #showteamname").html(t),$(".admin_search #admin_new_team .name_hidden").val(t))}),$(".admin_search #admin_new_team #team_mascot").live("keyup",function(e){var t;return $(".admin_search #admin_new_team #team_school_attributes_name").val===""?(t=$(this).val(),$(".admin_search #admin_new_team #showteamname").html(t),$(".admin_search #admin_new_team .name_hidden").val(t)):(t=$(".admin_search #admin_new_team #team_school_attributes_name").val()+" "+$(this).val(),$(".admin_search #admin_new_team #showteamname").html(t),$(".admin_search #admin_new_team .name_hidden").val(t))}),$(".admin_search #admin_new_team .clickonshow").live("click",function(e){return $("#new_team")[0].reset(),$(".admin_search #admin_new_team #showteamname").html("")}),$("#conference_state_id").live("change",function(e){var t,n,r;return t=$("#team_school_attributes_conference_id"),n="<option value=''>Select one</option>",$("#team_school_attributes_conference_id option").remove(),r=$(this).attr("value"),r===""?t.append(n):$.ajax({type:"GET",url:"teams/get_conferences",data:{state_id:r},success:function(e){var r;r=0;while(r<e.length)n+="<option value="+e[r].id+">"+e[r].name+"</option>",r++;t.append(n)},error:function(e){return alert("There are something went wrong")}})}),$("#admin_edit_team .team_id .link_edit").live("click",function(e){return $.ajax({type:"GET",url:$(this).data("url"),success:function(e){return $("#edit_admin").html(e)},error:function(e){}})}),$(".admin_search #state_id_admin").change(function(e){return $.ajax({type:"GET",url:"teams/search",data:{state_id:$("#state_id_admin").attr("value")},success:function(e){return $("#conference_admin").html(e),$("#conference_admin").show},error:function(e){return $("#conference_admin").html(e),$("#conference_admin").show}})}),$(".admin_search .New_team").live("click",function(e){var t;return $(".admin_search .loading_admin").removeClass("none_admin"),$(".admin_search .team_admin.none_admin").hide(),t=$(".admin_search form"),$.ajax({type:"GET",url:t.attr("action"),data:t.serialize(),dataType:"script",success:function(e){return $(".admin_search .loading_admin").addClass("none_admin")},error:function(e){return $(".admin_search .loading_admin").addClass("none_admin"),$(".admin_search .team_admin").show()}})}),$(".delete_button").click(function(e){var t,n,r,i,s,o,u;i=confirm("Do you want to delete this manager");if(i)return u=$(this).attr("id"),t=u.substring(6,u.length),s="#team_manager"+t,n="#manageremail"+t,o=$("#team"+t).val(),r=$(n).attr("placeholder"),$(s).remove(),$.ajax({type:"get",url:"/admin/users/delete_by_email",data:{email:r,team:o},success:function(e){},error:function(e){}})}),$(".change_button").click(function(e){var t,n,r,i,s,o,u,a;s=confirm("Do you want to change this manager?");if(s)return a=$(this).attr("id"),t=a.substring(6,a.length),o="#team_manager"+t,n="#manageremail"+t,u=$("#team"+t).val(),i=$(n).attr("placeholder"),r=$(n).val(),r.match(/[\w|-|_|.|\d]+\@\w+\.\w+/)?r!==i?$.ajax({type:"get",url:"/admin/users/change_manager_by_email",dataType:"json",data:{old_email:i,new_email:r,team:u},success:function(e){return e.result?(alert("Change manager successfully"),$(n).attr("value",""),$(n).attr("placeholder",r)):(alert("Unsuccessfully change the manager"),$(n).attr("value",""))},error:function(e){return alert("error")}}):(alert("Nothing change"),$(n).attr("value","")):(alert("Invalid email input"),$(n).attr("value",""))})}.call(this),function(e){e.fn.extend({filter_input:function(t){function i(n){var i=n.charCode?n.charCode:n.keyCode?n.keyCode:0;if(i==8||i==9||i==13||i==35||i==36||i==37||i==39||i==46)if(e.browser.mozilla&&n.charCode==0&&n.keyCode==i)return!0;var s=String.fromCharCode(i);return r.test(s)?!0:(typeof t.feedback=="function"&&t.feedback.call(this,s),!1)}var n={regex:".*",live:!1},t=e.extend(n,t),r=new RegExp(t.regex);if(!t.live)return this.each(function(){var t=e(this);t.unbind("keypress").keypress(i)});e(this).live("keypress",i)}})}(jQuery),jQuery.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Accept","text/javascript")}});